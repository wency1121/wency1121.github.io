---
layout: post
title:  "github博客搭建过程"
categories: 计算机学习
tags: blog
author: Wency
---

* content
{:toc}
## 前言
之前只在github上找过python的库，近来偶然翻到同学在github上的[博客](https://renqlsysu.github.io/)，觉得甚是不错，便也想建立一个自己的网站，把琐碎的东西整理上去，便于随时翻看。
## 网站建立过程记录如下
github以及git入门参考[github新手使用手册](https://www.jianshu.com/p/bf95d885978e)以及[两小时学会git玩转github](https://blog.csdn.net/tichimi3375/article/details/79844514)，参考其中的步骤将本地git绑定自己的账户，设置SSH Key（注意```ssh-keygen```中间没有空格）。git的作用之一：在本地修改仓库并将仓库上传，在github应用中也可实现此功能，且比较简单，以后都采用github应用实现此功能。

接着将[Gaohaoyang的博客库](https://github.com/Gaohaoyang/gaohaoyang.github.io)fork到我的仓库，将仓库名改为"github账号名.github.io"，然后输入网址github账号名.github.io，便可看到博客页面了，具体过程及以下修改过程可参考[这里](https://github.com/qiubaiying/qiubaiying.github.io/wiki/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E8%AF%A6%E7%BB%86%E6%95%99%E7%A8%8B) 。修改仓库里的_config.yml文件，将名字账号等都改成自己的，这里知乎和微博用户名都是打开自己的主页后，网址的最后内容，如知乎用户名为“https://www.zhihu.com/people/###”中“###”的内容。

这里比较坑的是评论作用中的disqus加载总是有问题（可能因为背墙了），改成gitment后还是有问题，据说是作者不再维护了，故改为gitalk。实现过程参考[gitalk官网](https://github.com/gitalk/gitalk)和[cgstudios的安装说明](https://cgspace.date/2017/08/20/gitalk/2017-08-20-gitalk-comment-use/)以及可能遇到的报错Validation Failed的[解决方法](https://blog.csdn.net/death05/article/details/83618887)，具体步骤如下：

**1. 在_config.yml里加上:**
`gitalk_shortname: True`

**2. 在/_includeds/comments.html里加上:**
```
{% if site.gitalk_shortname %}
<div id="gitalk-container"></div>
<link rel="stylesheet" href="//unpkg.com/gitalk/dist/gitalk.css">
<script src="//unpkg.com/gitalk/dist/gitalk.min.js"></script>
<script src="/js/md5.min.js"></script>
<script>
const gitalk = new Gitalk({
  clientID: 'bf6b71cc33e802203f78',// GitHub Application 
  clientSecret:  '3735445a4b3acb4c08383666cfecc0266b972ae9', // GitHub Application Client Secret
  repo: 'comments',    //存储你评论 issue 的 Github 仓库名
  owner: 'wency1121',
  admin: ['wency1121'],
  id: md5(location.pathname),   // 页面的唯一标识，
  distractionFreeMode: false  // Facebook-like distraction free mode
})
gitalk.render('gitalk-container')
window.onhashchange = function (event) {
  if (event.newURL.split('?')[0] !== event.oldURL.split('?')[0]) {
    location.reload()
  }
}
</script>
<!-- end -->
{% endif %}
```
`<script src="/js/md5.min.js"></script>`
`id: md5(location.pathname)`
这两句是为了配合md5.min.js文件以解决遇到的报错Validation Failed，md5.min.js文件来自[这里](https://github.com/blueimp/JavaScript-MD5/tree/master/js)
`window.onhashchange = function (event) {
  if (event.newURL.split('?')[0] !== event.oldURL.split('?')[0]) {
    location.reload()
  }
}`
这一句是为了解决Network Error，来自[这里](https://zhuanlan.zhihu.com/p/81270400)。










